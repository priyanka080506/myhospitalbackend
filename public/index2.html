<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Portal - MediCare</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles2.css">
</head>
<body>

    <div class="auth-container" id="authSection">
        <div class="auth-card">
            <div class="auth-header">
                <i class="fas fa-user-injured"></i>
                <h1>Patient Portal</h1>
                <p>Manage your appointments, reports, and profile.</p>
            </div>

            <form class="auth-form active" id="loginFormElement" aria-labelledby="loginHeader">
                <h2 id="loginHeader">Login to Your Account</h2>
                <div class="form-group">
                    <label for="loginEmail">Email Address</label>
                    <input type="email" id="loginEmail" name="email" placeholder="your.email@example.com" required autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" name="password" placeholder="••••••••" required autocomplete="current-password">
                </div>
                <button type="submit" class="auth-button">
                    <i class="fas fa-sign-in-alt"></i>
                    Login
                </button>
                <div class="auth-switch">
                    <p>Don't have an account? <button type="button" class="link-button" id="showRegister">Register here</button></p>
                </div>
            </form>

            <form class="auth-form" id="registerFormElement" aria-labelledby="registerHeader">
                <h2 id="registerHeader">Create a New Patient Account</h2>
                <div class="form-group">
                    <label for="registerName">Full Name</label>
                    <input type="text" id="registerName" name="name" placeholder="John Doe" required autocomplete="name">
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email Address</label>
                    <input type="email" id="registerEmail" name="email" placeholder="your.email@example.com" required autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="registerPhone">Phone Number</label>
                    <input type="tel" id="registerPhone" name="phone" placeholder="+1234567890" required autocomplete="tel">
                </div>
                <div class="form-group">
                    <label for="registerDOB">Date of Birth</label>
                    <input type="date" id="registerDOB" name="dob" required>
                </div>
                <div class="form-group">
                    <label for="registerGender">Gender</label>
                    <select id="registerGender" name="gender" required>
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" name="password" placeholder="••••••••" required autocomplete="new-password">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="••••••••" required autocomplete="new-password">
                </div>
                <button type="submit" class="auth-button">
                    <i class="fas fa-user-plus"></i>
                    Register
                </button>
                <div class="auth-switch">
                    <p>Already have an account? <button type="button" class="link-button" id="showLogin">Login here</button></p>
                </div>
            </form>
        </div>
    </div>

    <div class="main-dashboard" id="mainDashboard" style="display: none;">
        <div class="container">
            <header class="patient-header">
                <div class="patient-profile">
                    <div class="patient-profile-photo-wrapper" role="button" aria-label="Change profile photo" tabindex="0">
                        <img src="https://placehold.co/100x100/e0e7ff/0275f7?text=PT" alt="Patient Profile" class="patient-profile-photo" id="patientPhoto">
                        <input type="file" id="photoUploadInput" accept="image/*" class="photo-upload-input">
                        <div class="upload-overlay" title="Click to change photo">
                            <i class="fas fa-camera"></i>
                        </div>
                    </div>

                    <div class="patient-info">
                        <h1 id="patientName">John Doe</h1>
                        <p class="patient-id" id="patientIdDisplay">ID: PT-XXXX-XXXX</p>
                        <div class="patient-contact-info">
                            <div class="contact-item"><i class="fas fa-envelope"></i> <span id="patientEmail">john.doe@example.com</span></div>
                            <div class="contact-item"><i class="fas fa-phone"></i> <span id="patientPhoneDisplay">+1234567890</span></div>
                            <div class="contact-item"><i class="fas fa-calendar-alt"></i> <span id="patientDOBDisplay">DOB: 01/01/1990</span></div>
                            <div class="contact-item"><i class="fas fa-venus-mars"></i> <span id="patientGenderDisplay">Gender: Male</span></div>
                        </div>
                    </div>
                </div>
                <div class="logout-section">
                    <button class="logout-button" id="logoutButton">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </header>

            <section class="dashboard-overview" aria-live="polite">
                <div class="stat-card">
                    <h3>Upcoming Appointments</h3>
                    <span class="stat-number" id="upcomingAppointments">0</span>
                </div>
                <div class="stat-card">
                    <h3>Total Reports</h3>
                    <span class="stat-number" id="totalReports">0</span>
                </div>
                <div class="stat-card">
                    <h3>Last Visit</h3>
                    <span class="stat-text" id="lastVisitDate">N/A</span>
                </div>
                <div class="stat-card">
                    <h3>Next Appointment</h3>
                    <span class="stat-text" id="nextAppointmentDate">N/A</span>
                </div>
            </section>

            <section class="search-section">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search appointments or reports..." aria-label="Search appointments or reports">
                </div>
            </section>

            <section class="tabs-section">
                <div class="tabs" role="tablist">
                    <button class="tab-button active" data-tab="appointments-tab" role="tab" aria-selected="true" aria-controls="appointments-tab-panel" id="tab-appointments">
                        <i class="fas fa-calendar-alt"></i> My Appointments
                    </button>
                    <button class="tab-button" data-tab="reports-tab" role="tab" aria-selected="false" aria-controls="reports-tab-panel" id="tab-reports">
                        <i class="fas fa-file-alt"></i> My Reports
                    </button>
                </div>

                <div id="appointments-tab" class="tab-panel active" role="tabpanel" aria-labelledby="tab-appointments">
                    <div class="section-header">
                        <h2>My Appointments</h2>
                        <span class="count-badge" id="appointmentsCount">0 appointments</span>
                        <button class="add-new-button" onclick="openBookingModal()">
                            <i class="fas fa-plus-circle"></i> Book New Appointment
                        </button>
                    </div>
                    <div class="appointments-list" id="appointmentsList" aria-live="polite">
                        <div class="no-results" id="noAppointmentsMessage">
                            <i class="fas fa-calendar-times"></i>
                            <p>No appointments found.</p>
                            <p>Click "Book New Appointment" to schedule one.</p>
                        </div>
                    </div>
                </div>

                <div id="reports-tab" class="tab-panel" role="tabpanel" aria-labelledby="tab-reports">
                    <div class="section-header">
                        <h2>My Reports</h2>
                        <span class="count-badge" id="reportsCount">0 reports</span>
                        <a href="report.html" class="add-new-button">
                            <i class="fas fa-plus-circle"></i> Add New Report
                        </a>
                    </div>
                    <div class="reports-list" id="reportsList" aria-live="polite">
                        <div class="no-results" id="noReportsMessage">
                            <i class="fas fa-file-excel"></i>
                            <p>No reports found.</p>
                            <p>Click "Add New Report" to upload one.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <div id="bookingModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="bookingModalTitle">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-calendar-check"></i>
                    <h2 id="bookingModalTitle">Book Your Appointment</h2>
                </div>
                <button class="modal-close" onclick="closeBookingModal()" aria-label="Close appointment booking form">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="progress-bar" aria-hidden="true">
                <div class="progress-steps">
                    <div class="progress-step active">1</div>
                    <div class="progress-line"></div>
                    <div class="progress-step">2</div>
                    <div class="progress-line"></div>
                    <div class="progress-step">3</div>
                </div>
                <div class="progress-labels">
                    <span>Patient Info</span>
                    <span>Appointment Details</span>
                    <span>Confirmation</span>
                </div>
            </div>
            <form id="bookingForm" class="booking-form">
                <div id="step1" class="form-step active">
                    <div class="step-header">
                        <h3>Your Information</h3>
                        <p>Please confirm your personal details for the appointment.</p>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" name="firstName" required readonly autocomplete="given-name">
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" name="lastName" required readonly autocomplete="family-name">
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" required readonly autocomplete="email">
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required readonly autocomplete="tel">
                        </div>
                        <div class="form-group full-width">
                            <label for="address">Address</label>
                            <input type="text" id="address" name="address" readonly autocomplete="street-address">
                        </div>
                    </div>
                </div>

                <div id="step2" class="form-step">
                    <div class="step-header">
                        <h3>Appointment Details</h3>
                        <p>Select your desired service, doctor, date, and time.</p>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="service">Service</label>
                            <select id="service" name="service" required>
                                <option value="">Select a Service</option>
                                </select>
                        </div>
                        <div class="form-group">
                            <label for="doctor">Preferred Doctor</label>
                            <select id="doctor" name="doctor" required>
                                <option value="">Any Doctor</option>
                                </select>
                        </div>
                        <div class="form-group">
                            <label for="appointmentDate">Appointment Date</label>
                            <input type="date" id="appointmentDate" name="appointmentDate" required>
                        </div>
                        <div class="form-group">
                            <label for="appointmentTime">Appointment Time</label>
                            <input type="time" id="appointmentTime" name="appointmentTime" required>
                        </div>
                        <div class="form-group full-width">
                            <label for="notes">Additional Notes (Optional)</label>
                            <textarea id="notes" name="notes"></textarea>
                        </div>
                    </div>
                </div>

                <div id="step3" class="form-step">
                    <div class="step-header">
                        <h3>Confirm Your Appointment</h3>
                        <p>Please review your details before confirming your booking.</p>
                    </div>
                    <div class="appointment-summary">
                        <h4>Appointment Summary</h4>
                        <div id="summaryContent" class="summary-content" aria-live="polite">
                            </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" id="backBtn" class="btn btn-outline" style="display: none;"><i class="fas fa-arrow-left"></i> Back</button>
                    <button type="button" id="nextBtn" class="btn btn-primary">Next <i class="fas fa-arrow-right"></i></button>
                    <button type="submit" id="submitBtn" class="btn btn-primary" style="display: none;">Confirm Booking <i class="fas fa-check"></i></button>
                </div>
            </form>
        </div>
    </div>

    <div id="reportImageModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="reportImageModalTitle">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-image"></i>
                    <h2 id="reportImageModalTitle">Report Image</h2>
                </div>
                <button class="modal-close" onclick="closeReportImageModal()" aria-label="Close report image view">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <img id="reportImageDisplay" src="" alt="Report Image" class="full-width-image">
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeReportImageModal()">Close</button>
            </div>
        </div>
    </div>

    <script src="script2.js"></script>
</body>
</html>